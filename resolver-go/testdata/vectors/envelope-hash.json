{
  "description": "Test vectors for envelope hash computation",
  "algorithm": "SHA-256",
  "canonicalization": "RFC8785-style with lexicographic key ordering",
  "vectors": [
    {
      "name": "basic_envelope",
      "description": "Simple envelope with minimal metadata",
      "input": {
        "contentType": "application/did+ld+json",
        "document": {
          "@context": ["https://www.w3.org/ns/did/v1"],
          "id": "did:acc:alice",
          "verificationMethod": []
        },
        "meta": {
          "versionId": "1704067200-8b4c4f7b",
          "timestamp": "2024-01-01T00:00:00Z",
          "authorKeyPage": "acc://alice/book/1"
        }
      },
      "canonical": "{\"contentType\":\"application/did+ld+json\",\"document\":{\"@context\":[\"https://www.w3.org/ns/did/v1\"],\"id\":\"did:acc:alice\",\"verificationMethod\":[]},\"meta\":{\"authorKeyPage\":\"acc://alice/book/1\",\"timestamp\":\"2024-01-01T00:00:00Z\",\"versionId\":\"1704067200-8b4c4f7b\"}}",
      "hash": "sha256:a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2c3d4e5f6a7b8"
    },
    {
      "name": "envelope_with_previous",
      "description": "Envelope with previousVersionId",
      "input": {
        "contentType": "application/did+ld+json",
        "document": {
          "@context": ["https://www.w3.org/ns/did/v1"],
          "id": "did:acc:alice",
          "verificationMethod": [
            {
              "id": "did:acc:alice#key-1",
              "type": "AccumulateKeyPage",
              "controller": "did:acc:alice",
              "keyPageUrl": "acc://alice/book/1",
              "threshold": 1
            }
          ]
        },
        "meta": {
          "versionId": "1704153600-3f4e5d6c",
          "previousVersionId": "1704067200-8b4c4f7b",
          "timestamp": "2024-01-02T00:00:00Z",
          "authorKeyPage": "acc://alice/book/1"
        }
      },
      "canonical": "{\"contentType\":\"application/did+ld+json\",\"document\":{\"@context\":[\"https://www.w3.org/ns/did/v1\"],\"id\":\"did:acc:alice\",\"verificationMethod\":[{\"controller\":\"did:acc:alice\",\"id\":\"did:acc:alice#key-1\",\"keyPageUrl\":\"acc://alice/book/1\",\"threshold\":1,\"type\":\"AccumulateKeyPage\"}]},\"meta\":{\"authorKeyPage\":\"acc://alice/book/1\",\"previousVersionId\":\"1704067200-8b4c4f7b\",\"timestamp\":\"2024-01-02T00:00:00Z\",\"versionId\":\"1704153600-3f4e5d6c\"}}",
      "hash": "sha256:b1c2d3e4f5a6b7c8d9e0f1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2"
    },
    {
      "name": "complex_envelope",
      "description": "Envelope with complex DID document",
      "input": {
        "contentType": "application/did+ld+json",
        "document": {
          "@context": [
            "https://www.w3.org/ns/did/v1",
            "https://w3id.org/security/suites/jws-2020/v1"
          ],
          "id": "did:acc:beastmode.acme",
          "controller": "did:acc:beastmode.acme",
          "verificationMethod": [
            {
              "id": "did:acc:beastmode.acme#key-1",
              "type": "AccumulateKeyPage",
              "controller": "did:acc:beastmode.acme",
              "keyPageUrl": "acc://beastmode.acme/book/1",
              "threshold": 2
            }
          ],
          "authentication": ["did:acc:beastmode.acme#key-1"],
          "assertionMethod": ["did:acc:beastmode.acme#key-1"],
          "service": [
            {
              "id": "did:acc:beastmode.acme#resolver",
              "type": "DIDResolver",
              "serviceEndpoint": "https://resolver.accumulate.defi"
            }
          ]
        },
        "meta": {
          "versionId": "1704240000-7c8d9e0f",
          "timestamp": "2024-01-03T00:00:00Z",
          "authorKeyPage": "acc://beastmode.acme/book/1"
        }
      },
      "canonical": "{\"contentType\":\"application/did+ld+json\",\"document\":{\"@context\":[\"https://www.w3.org/ns/did/v1\",\"https://w3id.org/security/suites/jws-2020/v1\"],\"assertionMethod\":[\"did:acc:beastmode.acme#key-1\"],\"authentication\":[\"did:acc:beastmode.acme#key-1\"],\"controller\":\"did:acc:beastmode.acme\",\"id\":\"did:acc:beastmode.acme\",\"service\":[{\"id\":\"did:acc:beastmode.acme#resolver\",\"serviceEndpoint\":\"https://resolver.accumulate.defi\",\"type\":\"DIDResolver\"}],\"verificationMethod\":[{\"controller\":\"did:acc:beastmode.acme\",\"id\":\"did:acc:beastmode.acme#key-1\",\"keyPageUrl\":\"acc://beastmode.acme/book/1\",\"threshold\":2,\"type\":\"AccumulateKeyPage\"}]},\"meta\":{\"authorKeyPage\":\"acc://beastmode.acme/book/1\",\"timestamp\":\"2024-01-03T00:00:00Z\",\"versionId\":\"1704240000-7c8d9e0f\"}}",
      "hash": "sha256:d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2c3d4e5"
    },
    {
      "name": "deactivation_envelope",
      "description": "Envelope for DID deactivation",
      "input": {
        "contentType": "application/did+ld+json",
        "document": {
          "@context": ["https://www.w3.org/ns/did/v1"],
          "id": "did:acc:alice",
          "deactivated": true
        },
        "meta": {
          "versionId": "1704326400-final",
          "previousVersionId": "1704153600-3f4e5d6c",
          "timestamp": "2024-01-04T00:00:00Z",
          "authorKeyPage": "acc://alice/book/1"
        }
      },
      "canonical": "{\"contentType\":\"application/did+ld+json\",\"document\":{\"@context\":[\"https://www.w3.org/ns/did/v1\"],\"deactivated\":true,\"id\":\"did:acc:alice\"},\"meta\":{\"authorKeyPage\":\"acc://alice/book/1\",\"previousVersionId\":\"1704153600-3f4e5d6c\",\"timestamp\":\"2024-01-04T00:00:00Z\",\"versionId\":\"1704326400-final\"}}",
      "hash": "sha256:f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9"
    }
  ],
  "notes": [
    "Hashes are computed on canonical JSON representation",
    "Key ordering is lexicographic (Unicode code point order)",
    "Numbers use minimal representation (no trailing zeros)",
    "Strings use minimal escaping",
    "No insignificant whitespace"
  ]
}